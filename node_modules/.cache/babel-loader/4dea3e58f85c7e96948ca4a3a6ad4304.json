{"ast":null,"code":"import React from \"react\";\nimport * as THREE from 'three';\nimport { TrackballControls } from '../../node_modules/three/examples/jsm/controls/TrackballControls.js';\nimport { PDBLoader } from '../../node_modules/three/examples/jsm/loaders/PDBLoader.js';\nimport { CSS3DRenderer, CSS3DObject, CSS3DSprite } from '../../node_modules/three/examples/jsm/renderers/CSS3DRenderer.js';\nimport Typewriter from 'typewriter-effect/dist/core';\n\nfunction ContactUsPage() {\n  let camera, scene, renderer;\n  let controls;\n  let root;\n  const objects = [];\n  const tmpVec1 = new THREE.Vector3();\n  const tmpVec2 = new THREE.Vector3();\n  const tmpVec3 = new THREE.Vector3();\n  const tmpVec4 = new THREE.Vector3();\n  const offset = new THREE.Vector3();\n  let visualizationType = 2;\n  const MOLECULES = {\n    'Diazirine': 'nhs-diazirine.pdb',\n    'Sildenafil': 'sildenafil.pdb',\n    'Lidocaine': 'lidocaine.pdb',\n    'Nytol': 'nytol.pdb',\n    'Rufinamide': 'rufinamide.pdb' // 'LSD': 'lsd.pdb',\n    // 'Cocaine': 'cocaine.pdb',\n    // 'Cholesterol': 'cholesterol.pdb',\n    // 'Lycopene': 'lycopene.pdb',\n    // 'Glucose': 'glucose.pdb',\n    // 'Aluminium oxide': 'Al2O3.pdb',\n    // 'Cubane': 'cubane.pdb',\n    // 'Copper': 'cu.pdb',\n    // 'Fluorite': 'caf2.pdb',\n    // 'Salt': 'nacl.pdb',\n    // 'YBCO superconductor': 'ybco.pdb',\n    // 'Buckyball': 'buckyball.pdb',\n    // // 'Diamond': 'diamond.pdb',\n    // 'Graphite': 'graphite.pdb'\n\n  };\n  const loader = new PDBLoader();\n  const colorSpriteMap = {};\n  const baseSprite = document.createElement('img');\n  const menu = document.getElementById('menu');\n  init();\n  animate();\n\n  function init() {\n    camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 1, 5000);\n    camera.position.z = 1000;\n    scene = new THREE.Scene();\n    root = new THREE.Object3D();\n    scene.add(root); //\n\n    renderer = new CSS3DRenderer();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    document.getElementById('container').appendChild(renderer.domElement); //\n\n    controls = new TrackballControls(camera, renderer.domElement);\n    controls.rotateSpeed = 0.5; //\n\n    baseSprite.onload = function () {\n      loadMolecule('./models/pdb/sildenafil.pdb'); //createMenu();\n    };\n\n    baseSprite.src = './textures/sprites/ball.png'; //\n\n    window.addEventListener('resize', onWindowResize);\n  } //\n\n\n  function generateButtonCallback(url) {\n    return function () {\n      loadMolecule(url);\n    };\n  }\n\n  function createMenu() {\n    for (const m in MOLECULES) {\n      const button = document.createElement('button');\n      button.innerHTML = m;\n      menu.appendChild(button);\n      const url = './models/pdb/' + MOLECULES[m];\n      button.addEventListener('click', generateButtonCallback(url));\n    }\n\n    const b_a = document.getElementById('b_a');\n    const b_b = document.getElementById('b_b');\n    const b_ab = document.getElementById('b_ab');\n    b_a.addEventListener('click', function () {\n      visualizationType = 0; // showAtoms();\n    });\n    b_b.addEventListener('click', function () {\n      visualizationType = 1; // showBonds();\n    });\n    b_ab.addEventListener('click', function () {\n      visualizationType = 2; // showAtomsBonds();\n    });\n  } //\n\n\n  function showAtoms() {\n    for (let i = 0; i < objects.length; i++) {\n      const object = objects[i];\n\n      if (object instanceof CSS3DSprite) {\n        object.element.style.display = '';\n        object.visible = true;\n      } else {\n        object.element.style.display = 'none';\n        object.visible = false;\n      }\n    }\n  }\n\n  function showBonds() {\n    for (let i = 0; i < objects.length; i++) {\n      const object = objects[i];\n\n      if (object instanceof CSS3DSprite) {\n        object.element.style.display = 'none';\n        object.visible = false;\n      } else {\n        object.element.style.display = '';\n        object.element.style.height = object.userData.bondLengthFull;\n        object.visible = true;\n      }\n    }\n  }\n\n  function showAtomsBonds() {\n    for (let i = 0; i < objects.length; i++) {\n      const object = objects[i];\n      object.element.style.display = '';\n      object.visible = true;\n\n      if (!(object instanceof CSS3DSprite)) {\n        object.element.style.height = object.userData.bondLengthShort;\n      }\n    }\n  } //\n\n\n  function colorify(ctx, width, height, color) {\n    const r = color.r,\n          g = color.g,\n          b = color.b;\n    const imageData = ctx.getImageData(0, 0, width, height);\n    const data = imageData.data;\n\n    for (let i = 0, l = data.length; i < l; i += 4) {\n      data[i + 0] *= r;\n      data[i + 1] *= g;\n      data[i + 2] *= b;\n    }\n\n    ctx.putImageData(imageData, 0, 0);\n  }\n\n  function imageToCanvas(image) {\n    const width = image.width;\n    const height = image.height;\n    const canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    const context = canvas.getContext('2d');\n    context.drawImage(image, 0, 0, width, height);\n    return canvas;\n  } //\n\n\n  function loadMolecule(url) {\n    for (let i = 0; i < objects.length; i++) {\n      const object = objects[i];\n      object.parent.remove(object);\n    }\n\n    objects.length = 0;\n    loader.load(url, function (pdb) {\n      const geometryAtoms = pdb.geometryAtoms;\n      const geometryBonds = pdb.geometryBonds;\n      const json = pdb.json;\n      geometryAtoms.computeBoundingBox();\n      geometryAtoms.boundingBox.getCenter(offset).negate();\n      geometryAtoms.translate(offset.x, offset.y, offset.z);\n      geometryBonds.translate(offset.x, offset.y, offset.z);\n      const positionAtoms = geometryAtoms.getAttribute('position');\n      const colorAtoms = geometryAtoms.getAttribute('color');\n      const position = new THREE.Vector3();\n      const color = new THREE.Color();\n\n      for (let i = 0; i < positionAtoms.count; i++) {\n        position.fromBufferAttribute(positionAtoms, i);\n        color.fromBufferAttribute(colorAtoms, i);\n        const atomJSON = json.atoms[i];\n        const element = atomJSON[4];\n\n        if (!colorSpriteMap[element]) {\n          const canvas = imageToCanvas(baseSprite);\n          const context = canvas.getContext('2d');\n          colorify(context, canvas.width, canvas.height, color);\n          const dataUrl = canvas.toDataURL();\n          colorSpriteMap[element] = dataUrl;\n        }\n\n        const colorSprite = colorSpriteMap[element];\n        const atom = document.createElement('img');\n        atom.src = colorSprite;\n        const object = new CSS3DSprite(atom);\n        object.position.copy(position);\n        object.position.multiplyScalar(75);\n        object.matrixAutoUpdate = false;\n        object.updateMatrix();\n        root.add(object);\n        objects.push(object);\n      }\n\n      const positionBonds = geometryBonds.getAttribute('position');\n      const start = new THREE.Vector3();\n      const end = new THREE.Vector3();\n\n      for (let i = 0; i < positionBonds.count; i += 2) {\n        start.fromBufferAttribute(positionBonds, i);\n        end.fromBufferAttribute(positionBonds, i + 1);\n        start.multiplyScalar(75);\n        end.multiplyScalar(75);\n        tmpVec1.subVectors(end, start);\n        const bondLength = tmpVec1.length() - 50; //\n\n        let bond = document.createElement('div');\n        bond.className = 'bond';\n        bond.style.height = bondLength + 'px';\n        let object = new CSS3DObject(bond);\n        object.position.copy(start);\n        object.position.lerp(end, 0.5);\n        object.userData.bondLengthShort = bondLength + 'px';\n        object.userData.bondLengthFull = bondLength + 55 + 'px'; //\n\n        const axis = tmpVec2.set(0, 1, 0).cross(tmpVec1);\n        const radians = Math.acos(tmpVec3.set(0, 1, 0).dot(tmpVec4.copy(tmpVec1).normalize()));\n        const objMatrix = new THREE.Matrix4().makeRotationAxis(axis.normalize(), radians);\n        object.matrix.copy(objMatrix);\n        object.quaternion.setFromRotationMatrix(object.matrix);\n        object.matrixAutoUpdate = false;\n        object.updateMatrix();\n        root.add(object);\n        objects.push(object); //\n\n        bond = document.createElement('div');\n        bond.className = 'bond';\n        bond.style.height = bondLength + 'px';\n        const joint = new THREE.Object3D(bond);\n        joint.position.copy(start);\n        joint.position.lerp(end, 0.5);\n        joint.matrix.copy(objMatrix);\n        joint.quaternion.setFromRotationMatrix(joint.matrix);\n        joint.matrixAutoUpdate = false;\n        joint.updateMatrix();\n        object = new CSS3DObject(bond);\n        object.rotation.y = Math.PI / 2;\n        object.matrixAutoUpdate = false;\n        object.updateMatrix();\n        object.userData.bondLengthShort = bondLength + 'px';\n        object.userData.bondLengthFull = bondLength + 55 + 'px';\n        object.userData.joint = joint;\n        joint.add(object);\n        root.add(joint);\n        objects.push(object);\n      } //console.log( \"CSS3DObjects:\", objects.length );\n\n\n      switch (visualizationType) {\n        case 0:\n          showAtoms();\n          break;\n\n        case 1:\n          showBonds();\n          break;\n\n        case 2:\n          showAtomsBonds();\n          break;\n      }\n    });\n  } //\n\n\n  function onWindowResize() {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n  }\n\n  function animate() {\n    requestAnimationFrame(animate);\n    controls.update();\n    const time = Date.now() * 0.0004; // root.rotation.x = time;\n\n    root.rotation.y = time * 0.7;\n    render();\n  }\n\n  function render() {\n    renderer.render(scene, camera);\n  }\n\n  const contact_text = `<a href=\"mailto:info@chemify.io\"><p style=\"font-size:1.5vw; color: white\">\n\t\t\t\tChemify: info@chemify.io</p></a>`;\n  let aboutContent = document.getElementById('paragraph'); //aboutContent.innerText += \"somethi easdf;asdkfasldkf;asdf\";\n\n  let typewriter = new Typewriter(aboutContent, {\n    loop: false,\n    delay: 30\n  });\n  typewriter.pauseFor(500).typeString(contact_text) //.pauseFor(300)\n  // .deleteChars(10)\n  // .typeString('<strong>JS</strong> plugin for a cool typewriter effect and ')\n  // .typeString('<strong>only <span style=\"color: #27ae60;\">5kb</span> Gzipped!</strong>')\n  // .pauseFor(1000)\n  .start(); //typewriter.stop();\n  //   aboutContent.innerHTML =  `<p style=\"font-size:1.5vw; color:yellow;\">The aim of Chemify is to digitize chemistry and produce \\\n  //   robotic solutions to run chemical code for drug discovery, chemical synthesis,\n  //   and materials discovery.</p>`;\n\n  return null;\n}\n\nexport default ContactUsPage;","map":{"version":3,"sources":["C:/Users/aamir/code/chemifyApp/src/components/ContactUsPage.jsx"],"names":["React","THREE","TrackballControls","PDBLoader","CSS3DRenderer","CSS3DObject","CSS3DSprite","Typewriter","ContactUsPage","camera","scene","renderer","controls","root","objects","tmpVec1","Vector3","tmpVec2","tmpVec3","tmpVec4","offset","visualizationType","MOLECULES","loader","colorSpriteMap","baseSprite","document","createElement","menu","getElementById","init","animate","PerspectiveCamera","window","innerWidth","innerHeight","position","z","Scene","Object3D","add","setSize","appendChild","domElement","rotateSpeed","onload","loadMolecule","src","addEventListener","onWindowResize","generateButtonCallback","url","createMenu","m","button","innerHTML","b_a","b_b","b_ab","showAtoms","i","length","object","element","style","display","visible","showBonds","height","userData","bondLengthFull","showAtomsBonds","bondLengthShort","colorify","ctx","width","color","r","g","b","imageData","getImageData","data","l","putImageData","imageToCanvas","image","canvas","context","getContext","drawImage","parent","remove","load","pdb","geometryAtoms","geometryBonds","json","computeBoundingBox","boundingBox","getCenter","negate","translate","x","y","positionAtoms","getAttribute","colorAtoms","Color","count","fromBufferAttribute","atomJSON","atoms","dataUrl","toDataURL","colorSprite","atom","copy","multiplyScalar","matrixAutoUpdate","updateMatrix","push","positionBonds","start","end","subVectors","bondLength","bond","className","lerp","axis","set","cross","radians","Math","acos","dot","normalize","objMatrix","Matrix4","makeRotationAxis","matrix","quaternion","setFromRotationMatrix","joint","rotation","PI","aspect","updateProjectionMatrix","requestAnimationFrame","update","time","Date","now","render","contact_text","aboutContent","typewriter","loop","delay","pauseFor","typeString"],"mappings":"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","sourcesContent":["  import React from \"react\";\n  import * as THREE from 'three';\n  import { TrackballControls } from '../../node_modules/three/examples/jsm/controls/TrackballControls.js';\n  import { PDBLoader } from '../../node_modules/three/examples/jsm/loaders/PDBLoader.js';\n  import { CSS3DRenderer, CSS3DObject, CSS3DSprite } from '../../node_modules/three/examples/jsm/renderers/CSS3DRenderer.js';\n  import Typewriter from 'typewriter-effect/dist/core';\n  \n  function ContactUsPage() {\n  \n        let camera, scene, renderer;\n        let controls;\n        let root;\n\n        const objects = [];\n        const tmpVec1 = new THREE.Vector3();\n        const tmpVec2 = new THREE.Vector3();\n        const tmpVec3 = new THREE.Vector3();\n        const tmpVec4 = new THREE.Vector3();\n        const offset = new THREE.Vector3();\n  \n        let visualizationType = 2;\n  \n        const MOLECULES = {\n          'Diazirine': 'nhs-diazirine.pdb',\n          'Sildenafil': 'sildenafil.pdb',\n          'Lidocaine': 'lidocaine.pdb',\n          'Nytol': 'nytol.pdb',\n          'Rufinamide': 'rufinamide.pdb',\n          // 'LSD': 'lsd.pdb',\n          // 'Cocaine': 'cocaine.pdb',\n          // 'Cholesterol': 'cholesterol.pdb',\n          // 'Lycopene': 'lycopene.pdb',\n          // 'Glucose': 'glucose.pdb',\n          // 'Aluminium oxide': 'Al2O3.pdb',\n          // 'Cubane': 'cubane.pdb',\n          // 'Copper': 'cu.pdb',\n          // 'Fluorite': 'caf2.pdb',\n          // 'Salt': 'nacl.pdb',\n          // 'YBCO superconductor': 'ybco.pdb',\n          // 'Buckyball': 'buckyball.pdb',\n          // // 'Diamond': 'diamond.pdb',\n          // 'Graphite': 'graphite.pdb'\n        };\n  \n        const loader = new PDBLoader();\n        const colorSpriteMap = {};\n        const baseSprite = document.createElement( 'img' );\n  \n        const menu = document.getElementById( 'menu' );\n  \n        init();\n        animate();\n  \n        function init() {\n  \n          camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 5000 );\n          camera.position.z = 1000;\n  \n          scene = new THREE.Scene();\n  \n          root = new THREE.Object3D();\n          scene.add( root );\n  \n          //\n  \n          renderer = new CSS3DRenderer();\n          renderer.setSize( window.innerWidth, window.innerHeight );\n          document.getElementById( 'container' ).appendChild( renderer.domElement );\n  \n          //\n  \n          controls = new TrackballControls( camera, renderer.domElement );\n          controls.rotateSpeed = 0.5;\n  \n          //\n  \n          baseSprite.onload = function () {\n  \n            loadMolecule( './models/pdb/sildenafil.pdb' );\n            //createMenu();\n  \n          };\n  \n          baseSprite.src = './textures/sprites/ball.png';\n  \n          //\n  \n          window.addEventListener( 'resize', onWindowResize );\n  \n        }\n  \n        //\n  \n        function generateButtonCallback( url ) {\n  \n          return function () {\n  \n            loadMolecule( url );\n  \n          };\n  \n        }\n  \n        function createMenu() {\n  \n          for ( const m in MOLECULES ) {\n            \n  \n            const button = document.createElement( 'button' );\n            button.innerHTML = m;\n            menu.appendChild( button );\n  \n            const url = './models/pdb/' + MOLECULES[ m ];\n  \n            button.addEventListener( 'click', generateButtonCallback( url ) );\n  \n          }\n  \n          const b_a = document.getElementById( 'b_a' );\n          const b_b = document.getElementById( 'b_b' );\n          const b_ab = document.getElementById( 'b_ab' );\n  \n          b_a.addEventListener( 'click', function () {\n  \n            visualizationType = 0;\n            // showAtoms();\n  \n          } );\n          b_b.addEventListener( 'click', function () {\n  \n            visualizationType = 1;\n            // showBonds();\n  \n          } );\n          b_ab.addEventListener( 'click', function () {\n  \n            visualizationType = 2;\n            // showAtomsBonds();\n  \n          } );\n  \n        }\n  \n        //\n  \n        function showAtoms() {\n  \n          for ( let i = 0; i < objects.length; i ++ ) {\n  \n            const object = objects[ i ];\n  \n            if ( object instanceof CSS3DSprite ) {\n  \n              object.element.style.display = '';\n              object.visible = true;\n  \n            } else {\n  \n              object.element.style.display = 'none';\n              object.visible = false;\n  \n            }\n  \n          }\n  \n        }\n  \n        function showBonds() {\n  \n          for ( let i = 0; i < objects.length; i ++ ) {\n  \n            const object = objects[ i ];\n  \n            if ( object instanceof CSS3DSprite ) {\n  \n              object.element.style.display = 'none';\n              object.visible = false;\n  \n            } else {\n  \n              object.element.style.display = '';\n              object.element.style.height = object.userData.bondLengthFull;\n              object.visible = true;\n  \n            }\n  \n          }\n  \n        }\n  \n        function showAtomsBonds() {\n  \n          for ( let i = 0; i < objects.length; i ++ ) {\n  \n            const object = objects[ i ];\n  \n            object.element.style.display = '';\n            object.visible = true;\n  \n            if ( ! ( object instanceof CSS3DSprite ) ) {\n  \n              object.element.style.height = object.userData.bondLengthShort;\n  \n            }\n  \n          }\n  \n        }\n  \n        //\n  \n        function colorify( ctx, width, height, color ) {\n  \n          const r = color.r, g = color.g, b = color.b;\n  \n          const imageData = ctx.getImageData( 0, 0, width, height );\n          const data = imageData.data;\n  \n          for ( let i = 0, l = data.length; i < l; i += 4 ) {\n  \n            data[ i + 0 ] *= r;\n            data[ i + 1 ] *= g;\n            data[ i + 2 ] *= b;\n  \n          }\n  \n          ctx.putImageData( imageData, 0, 0 );\n  \n        }\n  \n        function imageToCanvas( image ) {\n  \n          const width = image.width;\n          const height = image.height;\n  \n          const canvas = document.createElement( 'canvas' );\n  \n          canvas.width = width;\n          canvas.height = height;\n  \n          const context = canvas.getContext( '2d' );\n          context.drawImage( image, 0, 0, width, height );\n  \n          return canvas;\n  \n        }\n  \n        //\n  \n        function loadMolecule( url ) {\n  \n          for ( let i = 0; i < objects.length; i ++ ) {\n  \n            const object = objects[ i ];\n            object.parent.remove( object );\n  \n          }\n  \n          objects.length = 0;\n  \n          loader.load( url, function ( pdb ) {\n  \n            const geometryAtoms = pdb.geometryAtoms;\n            const geometryBonds = pdb.geometryBonds;\n            const json = pdb.json;\n  \n            geometryAtoms.computeBoundingBox();\n            geometryAtoms.boundingBox.getCenter( offset ).negate();\n  \n            geometryAtoms.translate( offset.x, offset.y, offset.z );\n            geometryBonds.translate( offset.x, offset.y, offset.z );\n  \n            const positionAtoms = geometryAtoms.getAttribute( 'position' );\n            const colorAtoms = geometryAtoms.getAttribute( 'color' );\n  \n            const position = new THREE.Vector3();\n            const color = new THREE.Color();\n  \n            for ( let i = 0; i < positionAtoms.count; i ++ ) {\n  \n              position.fromBufferAttribute( positionAtoms, i );\n              color.fromBufferAttribute( colorAtoms, i );\n  \n              const atomJSON = json.atoms[ i ];\n              const element = atomJSON[ 4 ];\n  \n              if ( ! colorSpriteMap[ element ] ) {\n  \n                const canvas = imageToCanvas( baseSprite );\n                const context = canvas.getContext( '2d' );\n  \n                colorify( context, canvas.width, canvas.height, color );\n  \n                const dataUrl = canvas.toDataURL();\n  \n                colorSpriteMap[ element ] = dataUrl;\n  \n              }\n  \n              const colorSprite = colorSpriteMap[ element ];\n  \n              const atom = document.createElement( 'img' );\n              atom.src = colorSprite;\n  \n              const object = new CSS3DSprite( atom );\n              object.position.copy( position );\n              object.position.multiplyScalar( 75 );\n  \n              object.matrixAutoUpdate = false;\n              object.updateMatrix();\n  \n              root.add( object );\n  \n              objects.push( object );\n  \n            }\n  \n            const positionBonds = geometryBonds.getAttribute( 'position' );\n  \n            const start = new THREE.Vector3();\n            const end = new THREE.Vector3();\n  \n            for ( let i = 0; i < positionBonds.count; i += 2 ) {\n  \n              start.fromBufferAttribute( positionBonds, i );\n              end.fromBufferAttribute( positionBonds, i + 1 );\n  \n              start.multiplyScalar( 75 );\n              end.multiplyScalar( 75 );\n  \n              tmpVec1.subVectors( end, start );\n              const bondLength = tmpVec1.length() - 50;\n  \n              //\n  \n              let bond = document.createElement( 'div' );\n              bond.className = 'bond';\n              bond.style.height = bondLength + 'px';\n  \n              let object = new CSS3DObject( bond );\n              object.position.copy( start );\n              object.position.lerp( end, 0.5 );\n  \n              object.userData.bondLengthShort = bondLength + 'px';\n              object.userData.bondLengthFull = ( bondLength + 55 ) + 'px';\n  \n              //\n  \n              const axis = tmpVec2.set( 0, 1, 0 ).cross( tmpVec1 );\n              const radians = Math.acos( tmpVec3.set( 0, 1, 0 ).dot( tmpVec4.copy( tmpVec1 ).normalize() ) );\n  \n              const objMatrix = new THREE.Matrix4().makeRotationAxis( axis.normalize(), radians );\n              object.matrix.copy( objMatrix );\n              object.quaternion.setFromRotationMatrix( object.matrix );\n  \n              object.matrixAutoUpdate = false;\n              object.updateMatrix();\n  \n              root.add( object );\n  \n              objects.push( object );\n  \n              //\n  \n              bond = document.createElement( 'div' );\n              bond.className = 'bond';\n              bond.style.height = bondLength + 'px';\n  \n              const joint = new THREE.Object3D( bond );\n              joint.position.copy( start );\n              joint.position.lerp( end, 0.5 );\n  \n              joint.matrix.copy( objMatrix );\n              joint.quaternion.setFromRotationMatrix( joint.matrix );\n  \n              joint.matrixAutoUpdate = false;\n              joint.updateMatrix();\n  \n              object = new CSS3DObject( bond );\n              object.rotation.y = Math.PI / 2;\n  \n              object.matrixAutoUpdate = false;\n              object.updateMatrix();\n  \n              object.userData.bondLengthShort = bondLength + 'px';\n              object.userData.bondLengthFull = ( bondLength + 55 ) + 'px';\n  \n              object.userData.joint = joint;\n  \n              joint.add( object );\n              root.add( joint );\n  \n              objects.push( object );\n  \n            }\n  \n            //console.log( \"CSS3DObjects:\", objects.length );\n  \n            switch ( visualizationType ) {\n  \n              case 0:\n                showAtoms();\n                break;\n              case 1:\n                showBonds();\n                break;\n              case 2:\n                showAtomsBonds();\n                break;\n  \n            }\n  \n          } );\n  \n  \n        }\n  \n        //\n  \n        function onWindowResize() {\n  \n          camera.aspect = window.innerWidth / window.innerHeight;\n          camera.updateProjectionMatrix();\n  \n          renderer.setSize( window.innerWidth, window.innerHeight );\n  \n        }\n  \n        function animate() {\n  \n          requestAnimationFrame( animate );\n          controls.update();\n  \n          const time = Date.now() * 0.0004;\n  \n          // root.rotation.x = time;\n          root.rotation.y = time * 0.7;\n  \n          render();\n  \n        }\n  \n        function render() {\n  \n          renderer.render( scene, camera );\n  \n        }\n        \n        const contact_text = `<a href=\"mailto:info@chemify.io\"><p style=\"font-size:1.5vw; color: white\">\n\t\t\t\tChemify: info@chemify.io</p></a>`;\n        let aboutContent = document.getElementById('paragraph');\n        //aboutContent.innerText += \"somethi easdf;asdkfasldkf;asdf\";\n        let typewriter = new Typewriter(aboutContent, {\n          loop: false,\n          delay: 30,\n        });\n        \n        typewriter\n          .pauseFor(500)\n          .typeString(contact_text)\n          //.pauseFor(300)\n          // .deleteChars(10)\n          // .typeString('<strong>JS</strong> plugin for a cool typewriter effect and ')\n          // .typeString('<strong>only <span style=\"color: #27ae60;\">5kb</span> Gzipped!</strong>')\n          // .pauseFor(1000)\n          .start();\n          //typewriter.stop();\n  \n        //   aboutContent.innerHTML =  `<p style=\"font-size:1.5vw; color:yellow;\">The aim of Chemify is to digitize chemistry and produce \\\n        //   robotic solutions to run chemical code for drug discovery, chemical synthesis,\n        //   and materials discovery.</p>`;\n  \n    return (null);\n  }\n  \nexport default ContactUsPage;\n"]},"metadata":{},"sourceType":"module"}